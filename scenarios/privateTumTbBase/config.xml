<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE config SYSTEM "http://www.matsim.org/files/dtd/config_v2.dtd">
<config>
    <module name="controler">
        <param name="firstIteration" value="0"/>
        <param name="lastIteration" value="50"/>
        <param name="overwriteFiles" value="deleteDirectoryIfExists"/>
        <param name="runId" value="test"/>
    </module>

    <module name="network">
        <param name="inputNetworkFile"
               value="network_pt_road.xml.gz"/>
    </module>

    <module name="qsim" >
        <param name="flowCapacityFactor" value="0.05" />
        <param name="storageCapacityFactor" value="0.05" />
    </module>

    <module name="strategy">
        <param name="maxAgentPlanMemorySize" value="5"/>
    </module>

    <module name="transit">
        <!-- The Coordinates Reference System in which the coordinates are expressed in the input file. At import, the coordinates will be converted to the coordinate system defined in "global", and willbe converted back at export. If not specified, no conversion happens. -->
        <param name="inputScheduleCRS" value="null"/>
        <!-- Optional input file containing additional attributes for transit lines, stored as ObjectAttributes. -->
        <param name="transitLinesAttributesFile" value="null"/>
        <!-- Comma-separated list of transportation modes that are handled as transit. Defaults to 'pt'. -->
        <param name="transitModes" value="pt"/>
        <!-- Input file containing the transit schedule to be simulated. -->
        <param name="transitScheduleFile" value="null"/>
        <!-- Optional input file containing additional attributes for transit stop facilities, stored as ObjectAttributes. -->
        <param name="transitStopsAttributesFile" value="null"/>
        <!-- Set this parameter to true if transit should be simulated, false if not. -->
        <param name="useTransit" value="false"/>
        <!-- Input file containing the vehicles used by the departures in the transit schedule. -->
        <param name="vehiclesFile" value="null"/>
    </module>


    <!--<module name="accessibility" >-->
    <!--<param name="timeOfDay" value="28800.0" />-->
    <!--</module>-->
    <module name="strategy">

        <!-- the external executable will be called with a config file as argument.  This is the pathname to a possible skeleton config, to which additional information will be added.  Can be null. -->
        <param name="ExternalExeConfigTemplate" value="null"/>

        <!-- time out value (in seconds) after which matsim will consider the external strategy as failed -->
        <param name="ExternalExeTimeOut" value="3600"/>

        <!-- root directory for temporary files generated by the external executable. Provided as a service; I don't think this is used by MATSim. -->
        <param name="ExternalExeTmpFileRootDir" value="null"/>

        <!-- fraction of iterations where innovative strategies are switched off.  Something link 0.8 should be good.  E.g. if you run from iteration 400 to iteration 500, innovation is switched off at iteration 480 -->
        <param name="fractionOfIterationsToDisableInnovation" value="0.8"/>

        <!-- maximum number of plans per agent.  ``0'' means ``infinity''.  Currently (2010), ``5'' is a good number -->
        <param name="maxAgentPlanMemorySize" value="4"/>

        <!-- strategyName of PlanSelector for plans removal.  Possible defaults: WorstPlanSelector SelectRandom SelectExpBetaForRemoval ChangeExpBetaForRemoval PathSizeLogitSelectorForRemoval . The current default, WorstPlanSelector is not a good choice from a discrete choice theoretical perspective. Alternatives, however, have not been systematically tested. kai, feb'12 -->
        <param name="planSelectorForRemoval" value="WorstPlanSelector"/>

        <parameterset type="strategysettings">
            <!-- iteration after which strategy will be disabled.  most useful for ``innovative'' strategies (new routes, new times, ...). Normally, better use fractionOfIterationsToDisableInnovation -->
            <param name="disableAfterIteration" value="-1"/>
            <!-- path to external executable (if applicable) -->
            <param name="executionPath" value="null"/>
            <!-- strategyName of strategy.  Possible default names: SelectRandomBestScoreKeepLastSelectedChangeExpBetaSelectExpBetaSelectPathSizeLogit (selectors), ReRoute TimeAllocationMutator ChangeLegMode TimeAllocationMutator_ReRoute ChangeSingleLegMode ChangeSingleTripMode SubtourModeChoice ChangeTripMode TripSubtourModeChoice  (innovative strategies). -->
            <param name="strategyName" value="ChangeExpBeta"/>
            <!-- subpopulation to which the strategy applies. "null" refers to the default population, that is, the set of persons for which no explicit subpopulation is defined (ie no subpopulation attribute) -->
            <param name="subpopulation" value="null"/>
            <!-- weight of a strategy: for each agent, a strategy will be selected with a probability proportional to its weight -->
            <param name="weight" value="0.8"/>
        </parameterset>

        <parameterset type="strategysettings">
            <!-- path to external executable (if applicable) -->
            <param name="executionPath" value="null"/>
            <!-- strategyName of strategy.  Possible default names: SelectRandomBestScoreKeepLastSelectedChangeExpBetaSelectExpBetaSelectPathSizeLogit (selectors), ReRoute TimeAllocationMutator ChangeLegMode TimeAllocationMutator_ReRoute ChangeSingleLegMode ChangeSingleTripMode SubtourModeChoice ChangeTripMode TripSubtourModeChoice  (innovative strategies). -->
            <param name="strategyName" value="ReRoute"/>
            <!-- subpopulation to which the strategy applies. "null" refers to the default population, that is, the set of persons for which no explicit subpopulation is defined (ie no subpopulation attribute) -->
            <param name="subpopulation" value="null"/>
            <!-- weight of a strategy: for each agent, a strategy will be selected with a probability proportional to its weight -->
            <param name="weight" value="0.2"/>
        </parameterset>

    </module>

    <module name="plans">
        <param name="inputPlansFile" value="matsimPlans_5_percent.xml.gz" />
    </module>

    <module name="planCalcScore" >
        <!-- logit model scale parameter. default: 1.  Has name and default value for historical reasons (see Bryan Raney's phd thesis). -->
        <param name="BrainExpBeta" value="1.0" />
        <param name="PathSizeLogitBeta" value="1.0" />
        <!-- fraction of iterations at which MSA score averaging is started. The matsim theory department suggests to use this together with switching off choice set innovation (where a similar switch exists), but it has not been tested yet. -->
        <param name="fractionOfIterationsToStartScoreMSA" value="null" />
        <!-- new_score = (1-learningRate)*old_score + learningRate * score_from_mobsim.  learning rates close to zero emulate score averaging, but slow down initial convergence -->
        <param name="learningRate" value="1.0" />
        <!-- There used to be a plateau between duration=0 and duration=zeroUtilityDuration. This caused durations to evolve to zero once they were below zeroUtilityDuration, causing problems.  Only use this switch if you need to be backwards compatible with some old results.  (changed nov'13) -->
        <param name="usingOldScoringBelowZeroUtilityDuration" value="false" />
        <!-- write a plans file in each iteration directory which contains what each agent actually did, and the score it received. -->
        <param name="writeExperiencedPlans" value="false" />
        <parameterset type="scoringParameters" >
            <param name="earlyDeparture" value="-0.0" />
            <param name="lateArrival" value="-18.0" />
            <param name="marginalUtilityOfMoney" value="1.0" />
            <param name="performing" value="6.0" />
            <param name="subpopulation" value="null" />
            <param name="utilityOfLineSwitch" value="-1.0" />
            <param name="waiting" value="-0.0" />
            <param name="waitingPt" value="-6.0" />
            <parameterset type="activityParams" >
                <param name="activityType" value="dummy" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="true" />
                <!-- typical duration of activity.  needs to be defined and non-zero.  in sec. -->
                <param name="typicalDuration" value="02:00:00" />
                <!-- method to compute score at typical duration.  Options: | uniform | relative | Use uniform for backwards compatibility (all activities same score; higher proba to drop long acts). -->
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="car interaction" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="false" />
                <param name="typicalDuration" value="undefined" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="pt interaction" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="false" />
                <param name="typicalDuration" value="undefined" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="bike interaction" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="false" />
                <param name="typicalDuration" value="undefined" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="drt interaction" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="false" />
                <param name="typicalDuration" value="undefined" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="taxi interaction" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="false" />
                <param name="typicalDuration" value="undefined" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="other interaction" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="false" />
                <param name="typicalDuration" value="undefined" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="walk interaction" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="false" />
                <param name="typicalDuration" value="undefined" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="home" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="true" />
                <param name="typicalDuration" value="12:00:00" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="work" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="true" />
                <param name="typicalDuration" value="08:00:00" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="education" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="true" />
                <param name="typicalDuration" value="08:00:00" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="shopping" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="true" />
                <param name="typicalDuration" value="01:00:00" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="other" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="true" />
                <param name="typicalDuration" value="01:00:00" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="airport" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="true" />
                <param name="typicalDuration" value="01:00:00" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="activityParams" >
                <param name="activityType" value="ride interaction" />
                <param name="closingTime" value="undefined" />
                <param name="earliestEndTime" value="undefined" />
                <param name="latestStartTime" value="undefined" />
                <param name="minimalDuration" value="undefined" />
                <param name="openingTime" value="undefined" />
                <param name="priority" value="1.0" />
                <param name="scoringThisActivityAtAll" value="false" />
                <param name="typicalDuration" value="undefined" />
                <param name="typicalDurationScoreComputation" value="relative" />
            </parameterset>
            <parameterset type="modeParams" >
                <!-- [utils] alternative-specific constant.  Normally per trip, but that is probably buggy for multi-leg trips. -->
                <param name="constant" value="0.0" />
                <!-- [unit_of_money/day] Fixed cost of mode, per day. -->
                <param name="dailyMonetaryConstant" value="0.0" />
                <!-- [utils] daily utility constant. default=0 to be backwards compatible -->
                <param name="dailyUtilityConstant" value="0.0" />
                <!-- [utils/m] utility of traveling (e.g. walking or driving) per m, normally negative.  this is on top of the time (dis)utility. -->
                <param name="marginalUtilityOfDistance_util_m" value="0.0" />
                <!-- [utils/hr] additional marginal utility of traveling.  normally negative.  this comes on top of the opportunity cost of time -->
                <param name="marginalUtilityOfTraveling_util_hr" value="-6.0" />
                <param name="mode" value="car" />
                <!-- [unit_of_money/m] conversion of distance into money. Normally negative. -->
                <param name="monetaryDistanceRate" value="0.0" />
            </parameterset>
            <parameterset type="modeParams" >
                <param name="constant" value="0.0" />
                <param name="dailyMonetaryConstant" value="0.0" />
                <param name="dailyUtilityConstant" value="0.0" />
                <param name="marginalUtilityOfDistance_util_m" value="0.0" />
                <param name="marginalUtilityOfTraveling_util_hr" value="-6.0" />
                <param name="mode" value="pt" />
                <param name="monetaryDistanceRate" value="0.0" />
            </parameterset>
            <parameterset type="modeParams" >
                <param name="constant" value="0.0" />
                <param name="dailyMonetaryConstant" value="0.0" />
                <param name="dailyUtilityConstant" value="0.0" />
                <param name="marginalUtilityOfDistance_util_m" value="0.0" />
                <param name="marginalUtilityOfTraveling_util_hr" value="-6.0" />
                <param name="mode" value="walk" />
                <param name="monetaryDistanceRate" value="0.0" />
            </parameterset>
            <parameterset type="modeParams" >
                <param name="constant" value="0.0" />
                <param name="dailyMonetaryConstant" value="0.0" />
                <param name="dailyUtilityConstant" value="0.0" />
                <param name="marginalUtilityOfDistance_util_m" value="0.0" />
                <param name="marginalUtilityOfTraveling_util_hr" value="-6.0" />
                <param name="mode" value="bike" />
                <param name="monetaryDistanceRate" value="0.0" />
            </parameterset>
            <parameterset type="modeParams" >
                <param name="constant" value="0.0" />
                <param name="dailyMonetaryConstant" value="0.0" />
                <param name="dailyUtilityConstant" value="0.0" />
                <param name="marginalUtilityOfDistance_util_m" value="0.0" />
                <param name="marginalUtilityOfTraveling_util_hr" value="-6.0" />
                <param name="mode" value="ride" />
                <param name="monetaryDistanceRate" value="0.0" />
            </parameterset>
            <parameterset type="modeParams" >
                <param name="constant" value="0.0" />
                <param name="dailyMonetaryConstant" value="0.0" />
                <param name="dailyUtilityConstant" value="0.0" />
                <param name="marginalUtilityOfDistance_util_m" value="0.0" />
                <param name="marginalUtilityOfTraveling_util_hr" value="-6.0" />
                <param name="mode" value="other" />
                <param name="monetaryDistanceRate" value="0.0" />
            </parameterset>
        </parameterset>
		</module>
		<module name="planscalcroute" >
		<!-- All the modes for which the router is supposed to generate network routes (like car) -->
		<param name="networkModes" value="car" />
		<parameterset type="teleportedModeParameters" >
			<param name="mode" value="car_passenger" />
			<!-- Free-speed factor for a teleported mode. Travel time = teleportedModeFreespeedFactor * <freespeed car travel time>. Insert a line like this for every such mode. Please do not set teleportedModeFreespeedFactor as well as teleportedModeSpeed for the same mode, but if you do, +teleportedModeFreespeedFactor wins over teleportedModeSpeed. -->
			<param name="teleportedModeFreespeedFactor" value="0.9" />
			<!-- Speed for a teleported mode. Travel time = (<beeline distance> * beelineDistanceFactor) / teleportedModeSpeed. Insert a line like this for every such mode. -->
		</parameterset>
		<parameterset type="teleportedModeParameters" >
			<param name="beelineDistanceFactor" value="1.3" />
			<param name="mode" value="pt" />
			<!-- Speed for a teleported mode. Travel time = (<beeline distance> * beelineDistanceFactor) / teleportedModeSpeed. Insert a line like this for every such mode. -->
			<param name="teleportedModeSpeed" value="10" />
		</parameterset>
		<parameterset type="teleportedModeParameters" >
			<param name="beelineDistanceFactor" value="1.2" />
			<param name="mode" value="walk" />
			<!-- Speed for a teleported mode. Travel time = (<beeline distance> * beelineDistanceFactor) / teleportedModeSpeed. Insert a line like this for every such mode. -->
			<param name="teleportedModeSpeed" value="2.7" />
		</parameterset>
		<parameterset type="teleportedModeParameters" >
			<param name="beelineDistanceFactor" value="1.1" />
			<param name="mode" value="bike" />
			<!-- Speed for a teleported mode. Travel time = (<beeline distance> * beelineDistanceFactor) / teleportedModeSpeed. Insert a line like this for every such mode. -->
			<param name="teleportedModeSpeed" value="1.1" />
		</parameterset>
    </module>

</config>